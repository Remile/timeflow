# 智能时长追踪 - 演示示例

## 场景：一个普通工作日的时间追踪

### 早上开始工作

**08:30** - 我打开电脑，准备开始今天的工作

```bash
$ timeflow add
📝 交互编辑模式
你可以多次粘贴文字和图片，输入 'done' 或按 Ctrl+D 完成

第 1 次粘贴 - 请粘贴内容后按回车（输入 'done' 完成）：
> 开始今天的工作，准备实现用户登录功能
> done

🤖 正在使用 Gemini AI 分析内容...
分析中...

📊 分析结果：
总结    │ 开始实现用户登录功能的开发工作
分类    │ 工作
标签    │ 编程, 功能开发, 用户登录
预计耗时│ 120 分钟

💾 保存到数据库...
✅ 日志已保存！ (ID: 1)
```

此时：
- 日志1 的时长 = 120分钟（AI估计值）

---

### 中途切换任务

**10:15** - 收到紧急会议通知，需要参加讨论

```bash
$ timeflow add
第 1 次粘贴：
> 参加产品讨论会，讨论新功能的需求和设计
> done

💾 保存到数据库...
⏱  已自动更新上一条日志 (ID: 1) 的时长：105 分钟   <-- 🎯 自动更新！
✅ 日志已保存！ (ID: 2)
```

系统自动计算：
- 10:15 - 08:30 = **105分钟**（实际编码时间）
- 日志1 更新为 105分钟（原来是120分钟的估计值）
- 日志2 的时长 = 60分钟（AI估计的会议时长）

---

### 会议结束

**11:30** - 会议结束，继续编码

```bash
$ timeflow add
> 继续完成用户登录功能，处理表单验证
> done

💾 保存到数据库...
⏱  已自动更新上一条日志 (ID: 2) 的时长：75 分钟   <-- 🎯 自动更新！
✅ 日志已保存！ (ID: 3)
```

系统自动计算：
- 11:30 - 10:15 = **75分钟**（实际会议时间）
- 日志2 更新为 75分钟（原来是60分钟的估计值）
- 日志3 的时长 = 90分钟（AI估计值）

---

### 午餐时间

**12:30** - 去吃午餐

```bash
$ timeflow add
> 午餐时间，去附近的餐厅吃饭
> done

💾 保存到数据库...
⏱  已自动更新上一条日志 (ID: 3) 的时长：60 分钟   <-- 🎯 自动更新！
✅ 日志已保存！ (ID: 4)
```

系统自动计算：
- 12:30 - 11:30 = **60分钟**（实际编码时间）
- 日志3 更新为 60分钟
- 日志4 的时长 = 45分钟（AI估计的用餐时长）

---

### 查看今天的日志

**13:30** - 查看今天到目前为止的时间安排

```bash
$ timeflow list --today

📅 今天的日志

┌─────────────────────────────────────────────────┐
│ 时间：2025-12-01 08:30:00                       │
│                                                 │
│ 开始实现用户登录功能的开发工作                  │
│                                                 │
│ 原文：开始今天的工作，准备实现用户登录功能      │
│                                                 │
│ #1 | 工作 | 编程, 功能开发, 用户登录 | ⏱ 105分钟│
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ 时间：2025-12-01 10:15:00                       │
│                                                 │
│ 参加产品讨论会，讨论新功能的需求和设计          │
│                                                 │
│ #2 | 工作 | 会议, 产品, 需求讨论 | ⏱ 75分钟    │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ 时间：2025-12-01 11:30:00                       │
│                                                 │
│ 继续完成用户登录功能，处理表单验证              │
│                                                 │
│ #3 | 工作 | 编程, 表单验证 | ⏱ 60分钟          │
└─────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────┐
│ 时间：2025-12-01 12:30:00                       │
│                                                 │
│ 午餐时间，去附近的餐厅吃饭                      │
│                                                 │
│ #4 | 生活 | 午餐, 餐厅 | ⏱ 60分钟 (当前活动)  │
└─────────────────────────────────────────────────┘

共 4 条记录
```

### 时间统计

```bash
$ timeflow stats --today

📊 今日统计

总日志数  │  4 条
总耗时    │  300 分钟 (5.0 小时)

📁 分类分布

分类    │ 数量 │ 耗时      │ 占比
────────┼──────┼───────────┼──────
工作    │  3   │ 240 分钟  │ 75.0%
生活    │  1   │  60 分钟  │ 25.0%
```

---

## 关键优势

### ✅ 无需手动估计时间
- AI只需要给出初始估计
- 实际时长由系统自动计算和更新

### ✅ 准确反映实际情况
- 基于真实的时间戳
- 避免人为估计误差

### ✅ 即时更新，无需回顾
- 添加新日志时自动更新上一条
- 不需要事后补充时间信息

### ✅ 智能范围限制
- 只更新当天的日志
- 跨天的活动不会相互影响

---

## 实用技巧

### 1️⃣ 及时记录
为了获得最准确的时间追踪，建议在活动切换时立即记录：
- ✅ 开始新任务时立即记录
- ✅ 休息前记录一下
- ✅ 会议前后都记录

### 2️⃣ 查看时间线
定期查看今天的日志，了解时间分配：
```bash
timeflow list --today
```

### 3️⃣ 分析统计
每天结束时查看统计，反思时间使用：
```bash
timeflow stats --today
```

### 4️⃣ 周期复盘
周末或月末查看更长时间的统计：
```bash
timeflow stats --week
timeflow stats --month
```

---

## 常见问题

### Q: 最后一条日志的时长是多少？
A: 最后一条日志的时长保持为AI估计值，直到添加下一条日志时才会被更新为实际值。

### Q: 如果我忘记记录怎么办？
A: 时长会按照你实际记录的时间戳计算。如果中间有遗漏，可能导致某条日志的时长偏长。建议养成及时记录的习惯。

### Q: 可以手动修改时长吗？
A: 目前暂不支持通过CLI手动修改，但可以直接操作数据库。未来版本可能会添加编辑功能。

### Q: 跨天的活动怎么处理？
A: 系统只更新同一天内的日志。如果你在凌晨继续工作，第二天的第一条日志不会更新前一天最后一条日志的时长。

---

## 总结

智能时长追踪功能让你：
- 🎯 **专注当下**：只需记录你在做什么，不用操心时间计算
- 📊 **准确分析**：基于真实数据分析时间使用情况
- 💡 **持续改进**：通过数据反思，优化时间管理

开始使用，让时间追踪变得轻松自然！✨

