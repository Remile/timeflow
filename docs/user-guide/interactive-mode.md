# 🎨 交互编辑模式使用指南

## 什么是交互编辑模式？

交互编辑模式是一个友好的界面，让你可以在一次会话中多次粘贴文字和图片，收集所有内容后一起发送给 AI 分析。这特别适合需要记录包含多个部分的活动。

## 如何使用

### 启动交互模式

```bash
uv run logger add
```

或者明确指定：

```bash
uv run logger add --edit
```

### 交互流程

1. **看到提示**：程序会提示你粘贴内容
2. **粘贴内容**：可以粘贴文字或图片
3. **按回车确认**：每次粘贴后按回车
4. **重复步骤**：可以多次粘贴
5. **完成输入**：输入 `done` 或按 `Ctrl+D`

## 使用示例

### 示例 1：学习笔记

```
$ uv run logger add

📝 交互编辑模式
你可以多次粘贴文字和图片，输入 'done' 或按 Ctrl+D 完成

第 1 次粘贴 - 请粘贴内容后按回车（输入 'done' 完成）：
今天学习了 Python 装饰器的高级用法
✓ 已添加文字：今天学习了 Python 装饰器的高级用法

第 2 次粘贴 - 请粘贴内容后按回车（输入 'done' 完成）：
[粘贴代码截图 - Cmd+V]
✓ 已添加图片：/path/to/clipboard_20251127_143022.png

第 3 次粘贴 - 请粘贴内容后按回车（输入 'done' 完成）：
重点：@wraps 的作用和 functools 模块
✓ 已添加文字：重点：@wraps 的作用和 functools 模块

第 4 次粘贴 - 请粘贴内容后按回车（输入 'done' 完成）：
done

✓ 收集完成！
  - 文字段落：2 段
  - 图片：1 张

🤖 正在使用 Gemini AI 分析内容...
```

### 示例 2：工作任务

```
$ uv run logger add

第 1 次粘贴：
修复用户登录页面的 UI 问题
✓ 已添加文字

第 2 次粘贴：
[粘贴 JIRA 任务截图]
✓ 已添加图片

第 3 次粘贴：
需要调整响应式布局和按钮样式
✓ 已添加文字

第 4 次粘贴：
done

✓ 收集完成！所有内容会被合并分析
```

### 示例 3：纯文字记录

```
$ uv run logger add

第 1 次粘贴：
下午3点参加产品需求评审会议
✓ 已添加文字

第 2 次粘贴：
讨论了新功能的技术方案和时间规划
✓ 已添加文字

第 3 次粘贴：
预计需要 3 天完成开发
✓ 已添加文字

第 4 次粘贴：
done
```

## 支持的输入方式

### 1. 直接粘贴文字

- 复制文字后，在提示符处按 `Cmd+V` (macOS) 或 `Ctrl+V` (Windows/Linux)
- 按回车确认

### 2. 直接输入文字

- 在提示符处直接输入文字
- 按回车确认

### 3. 粘贴图片

- 截图或复制图片后（比如从网页、文件管理器）
- 程序会自动检测剪贴板中的图片
- 图片会被保存到 `data/images/` 目录

### 4. 混合粘贴

可以交替粘贴文字和图片，程序会自动识别类型

## 完成输入的方法

### 方式 1：输入 done

```
第 N 次粘贴 - 请粘贴内容后按回车（输入 'done' 完成）：
done
```

### 方式 2：按 Ctrl+D（推荐）

在提示符处按 `Ctrl+D` 立即完成

### 方式 3：按 Ctrl+C 取消

如果想取消本次操作，按 `Ctrl+C`

## 内容处理

### 文字合并

多段文字会用空行分隔后合并：

```
第1段文字

第2段文字

第3段文字
```

### 图片选择

如果粘贴了多张图片，目前只使用第一张图片进行分析。

## 使用技巧

### 技巧 1：先准备好内容

在运行命令前，先在其他应用中准备好要记录的内容：
1. 打开浏览器/文档/代码编辑器
2. 选择并复制第一部分内容
3. 运行 `uv run logger add`
4. 粘贴第一部分
5. 切换回源应用，复制下一部分
6. 重复直到完成

### 技巧 2：使用多个窗口

- 一个窗口：运行 `logger add`
- 另一个窗口：准备要复制的内容
- 在两个窗口间切换复制粘贴

### 技巧 3：快速截图并粘贴

macOS：
```
Cmd + Shift + 4         # 选择区域截图
Cmd + Shift + Ctrl + 4  # 截图到剪贴板（推荐）
```

然后立即切换到 logger 窗口粘贴

### 技巧 4：复制网页内容

复制网页文字时，格式会被保留，AI 可以更好地理解上下文

## 什么时候使用交互模式？

### ✅ 适合使用交互模式

- 记录包含多个步骤的任务
- 需要同时记录文字描述和截图
- 从不同来源收集信息（网页、文档、代码）
- 想要添加详细的上下文信息

### 🚀 更适合快速模式

如果只是快速记录单一内容，使用快速模式更方便：

```bash
# 复制内容后
uv run logger add --no-edit
```

## 常见问题

### Q: 可以编辑已经粘贴的内容吗？

A: 目前不支持编辑，但你可以按 `Ctrl+C` 取消，然后重新开始。

### Q: 支持多少次粘贴？

A: 理论上没有限制，但建议每次记录保持在 10 次粘贴以内。

### Q: 图片太大会有问题吗？

A: 程序会保存原始图片，但发送给 Gemini API 时会自动处理。建议截图保持在 5MB 以内。

### Q: 可以粘贴表格吗？

A: 可以，表格会被转换为文字格式。如果需要保留表格格式，建议截图。

### Q: 如何查看已添加的内容？

A: 完成输入后，程序会显示收集的内容统计。实际内容会在 AI 分析完成后保存到数据库。

## 快捷键总结

| 快捷键 | 功能 |
|--------|------|
| `Cmd+V` / `Ctrl+V` | 粘贴内容 |
| `Enter` | 确认当前粘贴 |
| `Ctrl+D` | 完成输入 |
| `Ctrl+C` | 取消操作 |
| `done` + `Enter` | 完成输入 |

## 示例工作流

### 记录学习进度

1. 打开教程网页
2. 运行 `uv run logger add`
3. 复制教程标题和URL → 粘贴
4. 截图关键代码 → 粘贴
5. 输入自己的理解 → 粘贴
6. 输入 `done`

### 记录工作任务

1. 运行 `uv run logger add`
2. 从项目管理工具复制任务描述
3. 截图相关设计稿
4. 添加技术方案要点
5. 输入 `done`

---

💡 **提示**: 交互模式是默认行为，让你更灵活地记录复杂的活动。如果只需要快速记录，可以使用 `--no-edit` 选项。

